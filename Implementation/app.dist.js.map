{"version":3,"sources":["app.js"],"names":[],"mappings":"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","file":"app.dist.js","sourcesContent":["var Broadcast = new Application('Broadcast',function(publicSandbox){\n  return {\n    init : function(){\n      this.register(Form);\n      this.startAll();\n      this.sandbox.on('add-name',this.broadCastMessage)\n    },\n    broadCastMessage : function(event){\n      publicSandbox.notify('public-name',event.data)\n    },\n    template : '<div class=\"application\"></div>'\n  }\n});\n\n//\n// class Broadcast extends Application{\n//   init(){\n//     this.register(Form);\n//     this.startAll();\n//     this.template = '<div class=\"application\"></div>'\n//     this.sandbox.on('add-name',this.broadCastMessage)\n//   }\n//   broadCastMessage(event){\n//     publicSandbox.notify('public-name',event.data)\n//   }\n// }\n\n/*  global Application*/\n/*  global Keyboard*/\n/*  global Display*/\n\nconst Calculator = new Application('Calculator', function calculatorConstructor() {\n  return {\n    init: function init() {\n      this.value = 0;\n\n      this.register(Keyboard);\n      this.register(Display);\n      this.startAll();\n\n      this.sandbox.on('buttonPressed:number', this.numberHandler.bind(this));\n      this.sandbox.on('buttonPressed:operation', this.operationHandler.bind(this));\n    },\n\n    numberHandler: function numberHandler(event) {\n      this.value = (this.value * 10) + event.data;\n      return this.sandbox.notify('outputText', this.value);\n    },\n\n    operationHandler: function operationHandler(event) {\n      if (event.data !== '=') {\n        this.auxiliarValue = this.value;\n        this.value = 0;\n        this.currentOperation = event.data;\n        return this.sandbox.notify('outputText', '');\n      }\n\n      this.value = this.eval();\n      return this.sandbox.notify('outputText', this.value);\n    },\n\n    eval: () => eval(this.auxiliarValue + this.currentOperation + this.value),\n    template: '<div class=\"application\"></div>'};\n});\n\nvar NewApplication = new Application('NewApplication',function(publicSandbox){\n  return {\n    init : function(){\n      console.log('im here !')\n    },\n    template : '<div class=\"NewApplication\"></div>'\n  }\n})\n\nvar UsersTable = new Application('Users Table',function(publicSandbox){\n  return {\n    init : function(){\n      this.register(Form);\n      this.register(DataTable);\n      this.startAll();\n\n      publicSandbox.on('public-name',function(event){\n        this.sandbox.notify('add-name',event.data)\n      }.bind(this))\n    },\n    template : '<div class=\"application\"></div>'\n  }\n});\n\n// var WaterSystem = new Application('Water System',function(publicSandbox){\n//   return {\n//     init : function(){\n//       this.register(Well);\n//       this.register(WaterBox);\n//       this.register(Tap);\n//       this.startAll();\n//       this.sandbox.on('box:full',function(){\n//         var newWaterBox = this.register(WaterBox);\n//         this.startModule(newWaterBox);\n//       }.bind(this))\n//     },\n//     template : '<div class=\"application\"></div>'\n//   }\n// });\n\nvar Tap = new Application('Tap',function(publicSandbox){\n  return{\n    init : function(){\n        this.timer = window.setInterval(this.drainWater.bind(this),1000)\n    },\n    drainWater : function(){\n      publicSandbox.notify('water:drain',30)\n    },\n    template : '<div class=\"tap\"></div>'\n  }\n})\n\nvar WaterBox = new Application('WaterBox',function(publicSandbox){\n  return{\n    init : function(){\n\n\n      var water = this.register(Water);\n      this.startModule(water)\n      this.storedWater = 0;\n      publicSandbox.on('water:extracted',this.collectWater.bind(this))\n      publicSandbox.on('water:drain',this.drainWater.bind(this))\n    },\n    collectWater : function(event){\n      if (this.storedWater < 80){\n        var waterAmmount = event.data;\n        this.storedWater = this.storedWater+waterAmmount;\n        this.render()\n        return event.stopPropagation();\n      }\n\n      if (!this.full){\n        publicSandbox.notify('box:full',this)\n      }\n      this.full = true\n\n    },\n    render : function(){\n      this.sandbox.notify('waterAmmount',this.storedWater);\n    },\n    drainWater : function(event){\n      if (this.storedWater > 0){\n        if (event.data > this.storedWater){\n          event.data = event.data - this.storedWater\n          this.storedWater = 0;\n        }else{\n          this.storedWater -= event.data;\n          event.stopPropagation()\n        }\n        this.render();\n        if (this.full){\n          this.full = false\n        }\n      }\n\n    },\n    template : '<div class=\"WaterBox\"></div>'\n  }\n})\n\nvar Well = new Application('Well',function(publicSandbox){\n  return{\n    init : function(){\n      this.timer = window.setInterval(this.getWater.bind(this),10)\n    },\n    getWater : function(){\n      publicSandbox.notify('water:extracted',1)\n    },\n    template : '<div class=\"Well\"></div>'\n  }\n})\n\n\n\nvar Rain = new Application('Rain',function(publicSandbox){\n  return{\n    init : function(){\n      this.timer = window.setInterval(this.getWater.bind(this),100)\n    },\n    getWater : function(){\n      publicSandbox.notify('water:extracted',1)\n    },\n    template : '<div class=\"Chuva\"></div>'\n  }\n})\n\nvar Water = new Module(function(sandbox){\n  return{\n    init : function(){\n      this.sandbox.on('waterAmmount',function(event){\n        this.template.refs.water.style.height=event.data+'px';\n      }.bind(this))\n    },\n    template : '<div ref=\"water\" class=\"water\"></div>'\n  }\n})\n\nvar DataTable = new Module(function(sandbox){\n  return{\n    init : function(){\n      sandbox.on('add-name',this.addName.bind(this))\n    },\n    addName : function(event){\n\n      this.template.refs.table.appendChild(document.createElement('tr'));\n      console.log(this.templates);\n\n    },\n    templateUrl : 'Implementation/Modules/DataTable/DataTable.html'\n  }\n})\n\nvar Display = new ThreadModule(function(){\n  return{\n    init : function(){\n\n      this.sandbox.on('outputText',function(event){\n        var n = 9000000000;\n          while (n > 0) {\n            n--;\n          }\n          this.template.refs.display = {innerHTML : event.data};\n          // this.template.refs.display.innerHTML = event.data\n      });\n\n    },\n    template : '<div class=\"display\" ref=\"display\"></div>'\n  };\n});\n\nvar Form = new Module(function(sandbox){\n  return{\n    addName : function(){\n      sandbox.notify('add-name',this.template.refs.name.value)\n    },\n    templateUrl : 'Implementation/Modules/Form/Form.html'\n  }\n})\n\nvar Keyboard = new Module(sandbox => {\n  return {\n    pressButton : function(input){\n      if (isNaN(input)){\n        sandbox.notify('buttonPressed:operation',input)\n      }else{\n        sandbox.notify('buttonPressed:number',input)\n      }\n    },\n    templateUrl : 'Implementation/Modules/Keyboard/Keyboard.html'\n  }\n})\n\n\nvar Inspector = new Application('Inspector',function(sandbox){\n  return {\n    init : function(){\n      sandbox.on('application:init',function(event) {\n        console.log(event.data)\n      })\n    },\n    templateUrl : 'Implementation/Platform/Applications/Inspector/Inspector.html'\n  }\n});\n"]}